{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useState, useEffect, useContext } from 'react';\nimport firebase from '../firebase';\nimport { useRouter } from 'next/router';\nimport { Context } from '../context';\nimport { toast } from 'react-toastify';\n\nconst PasswordReset = () => {\n  const {\n    0: email,\n    1: setEmail\n  } = useState(\"\");\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  const {\n    state: {\n      user\n    }\n  } = useContext(Context);\n  let router = useRouter();\n  useEffect(() => {\n    if (user !== null) {\n      router.push('/');\n    }\n  }, [user]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setLoading(true);\n    const config = {\n      url: process.env.passwordResetRedirect,\n      handleCodeInApp: true\n    };\n    firebase.auth().sendPasswordResetEmail(email, config).then(() => {\n      setEmail('');\n      setLoading(false);\n      toast(\"Check your email for password reset link\");\n    }).catch(error => {\n      setLoading(false);\n      toast(error.message);\n    });\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"container col-md-6 offset-md-3 p-5\",\n    children: [/*#__PURE__*/_jsx(\"h2\", {\n      children: \"Reset Password\"\n    }), /*#__PURE__*/_jsx(\"p\", {\n      className: \"lead\",\n      children: \"If you have already registered, you can enter your email address to receive a password reset link\"\n    }), /*#__PURE__*/_jsxs(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsx(\"input\", {\n        type: \"email\",\n        className: \"form-control\",\n        value: email,\n        onChange: e => setEmail(e.target.value),\n        placeholder: \"Type your email here\",\n        autoFocus: true\n      }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(\"button\", {\n        className: \"btn btn-primary\",\n        disabled: !email || loading,\n        children: loading ? 'Processing...' : \"Submit\"\n      })]\n    })]\n  });\n};\n\nexport default PasswordReset;","map":null,"metadata":{},"sourceType":"module"}