{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useState, useEffect, useContext } from 'react';\nimport firebase from '../firebase';\nimport { useRouter } from 'next/router';\nimport { Context } from '../context';\nimport { toast } from 'react-toastify';\n\nvar PasswordReset = function PasswordReset() {\n  var _useState = useState(\"\"),\n      email = _useState[0],\n      setEmail = _useState[1];\n\n  var _useState2 = useState(false),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useContext = useContext(Context),\n      user = _useContext.state.user;\n\n  var router = useRouter();\n  useEffect(function () {\n    if (user !== null) {\n      router.push('/');\n    }\n  }, [user]);\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    setLoading(true);\n    var config = {\n      url: process.env.passwordResetRedirect,\n      handleCodeInApp: true\n    };\n    firebase.auth().sendPasswordResetEmail(email, config).then(function () {\n      setEmail('');\n      setLoading(false);\n      toast(\"Check your email for password reset link\");\n    })[\"catch\"](function (error) {\n      setLoading(false);\n      toast(error.message);\n    });\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"container col-md-6 offset-md-3 p-5\",\n    children: [/*#__PURE__*/_jsx(\"h2\", {\n      children: \"Reset Password\"\n    }), /*#__PURE__*/_jsx(\"p\", {\n      className: \"lead\",\n      children: \"If you have already registered, you can enter your email address to receive a password reset link\"\n    }), /*#__PURE__*/_jsxs(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsx(\"input\", {\n        type: \"email\",\n        className: \"form-control\",\n        value: email,\n        onChange: function onChange(e) {\n          return setEmail(e.target.value);\n        },\n        placeholder: \"Type your email here\",\n        autoFocus: true\n      }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(\"button\", {\n        className: \"btn btn-primary\",\n        disabled: !email || loading,\n        children: loading ? 'Processing...' : \"Submit\"\n      })]\n    })]\n  });\n};\n\nexport default PasswordReset;","map":null,"metadata":{},"sourceType":"module"}